%ul.snippets
  - @snippets.each do |snippet|
    %li.snippet.rounded-box
      .contents
        .snippet-filename
          %a{ :href => path_to("/#{snippet.id}"), :title => snippet.comment }= snippet.filename
        .snippet-author
          by
          %a{ :href => path_to("/user/#{snippet.user.nickname}") }= snippet.user.nickname
          %span.snippet-inline-datetime= snippet.updated_at.strftime('%Y-%m-%d %H:%M')
        - unless snippet.comment.empty?
          - comment = snippet.comment.chars.take(24).join
          .snippet-comment
            != escape_html(comment) + ((snippet.comment == comment) ? '' : '&hellip;')
        .clear
        .snippet-body{ :title => snippet.comment }
          !~ render_snippet(snippet, :lines => 3)
